<h1>In Depth</h1>

<h2><a name="a1"></a>Theme choosing</h2>
<p>There can be many themes for each site, but only one theme for a page. A theme for each page is choosen along the following priorites:</p>
<ol>
<li>page theme="[theme_id]"; then, if no theme parameter is given in page node,</li>
<li>theme default="yes", then, if there is no such node with the attribute, the first theme from //site/theme collection, and if there are no themes in .site.xml at all,</li>
<li>default theme will be used, which is integrated into backend engine.</li>
</ol>

<h2><a name="a2"></a>Client script insertion</h2>
<p>If there is no SCRIPT macrocommand in theme HTML, the backend will attempt to insert client script before HEAD tag closing. If there is no HEAD closing and no SCRIPT macrocommand, no client script will be inserted.</p>