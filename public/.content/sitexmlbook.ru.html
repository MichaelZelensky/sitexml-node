<h1 class="booktitle">SiteXML</h1>
<p class="booktitle"><strong>Элементарная теория сайтов</strong></p>
<p class="bookauthor">Михаил Юрьевич Зеленский</p>
<p>2017</p>

<p class="epigraph">… кто берется за частные вопросы без предварительного решения общих, тот неминуемо будет на каждом шагу бессознательно для себя «натыкаться» на эти общие вопросы. А натыкаться слепо на них в каждом частном случае значит обрекать свою политику на худшие шатания и беспринципность.
    <br><br>
    Ленин В.И., 1907 г., ПСС, т.15, с.368</p>

<h2 class="index" name="index">Содержание</h2>
<p class="index"></p>

<h2 name="foreword">Предисловие</h2>
<p>Данная книга является результатом длительной практической работы автора наряду с изучением всевозможных доступных в изобилии материалов в виде книг, программных продуктов, веб-форумов, конференций, личного общения с учеными и разработчиками.</p>
<p>Автор прошел на своем опыте практически всю историю развития веба, начиная с простого текстового веба и заканчивая сегодняшним днем, с его богатством технологий для создания сайтов и веб-приложений. В то время, на заре веба, осознавая несовершенство веб-технологий, автор создал и выпустил на рынок одну из первых в мире визуальных систем управления сайтами ExpiCMS, сделав свой первый практический шаг по созданию описанной в данной книге концепции универсальной архитектуры вебсайта. Сегодня системой управления контентом никого не удивишь, но когда разрабатывалась система управления сайтами ExpiCMS, ничего подобного в мире автору известно не было. Поэтому автор вправе считать, что она была если не самой первой, то хотя бы одной из самых первых.</p>
<p>Следующим этапом в практической работе стала разработка и выпуск многопользовательской платформы для создания сайтов под названием Express-site. Как и в случае с системой управления, мне ничего не было известно о существовании подобных платформ, и после публикации к автору поступил ряд предложений о сотрудничестве со стороны различных интернет-компаний. В то время существовали так называемые сайт-билдеры, которые позволяли формировать и редактировать веб-страницы, но они обладали большими техническими ограничениями. Их нельзя считать платформами для создания и управления сайтами, да они таковыми и не были, поскольку этот класс продуктов не дает доступа ко всем техническим параметрам сайта. Наша платформа, напротив, давала полный доступ ко всем техническим параметрам, необходимых для создания и управления сайтами. Благодаря этому она имела определенный успех, и в результате тысячи сайтов были созданы пользователями с помощью этой платформы в течение всего двух-трех месяцев. К сожалению, финансовый кризис 2008 года, который особенно остро ощущался в России, где базировалась разработка, хотя и не был заметен на бытовом уровне в западных странах, заставил нас свернуть этот проект. К счастью, материала для исследований у нас оказалось все-таки более чем достаточно, а аналогичные системы с тех пор стали плодиться одна за другой, что позволило наблюдать за развитием этого направления информатики и веба.</p>
<p>Следующим этапом практической работы стала разработка непосредственно концепции универсальной структуры сайта SiteXML и несколько лет автору потребовалось для реализации работающих прототипов для того, чтобы убедиться в работоспособности концепции и чтобы можно было приступить к ее теоретическому и структурированному виду, который здесь и изложен.</p>
<p>Предполагается, что читатель знаком с основными техническими понятиями и терминами сети Интернет, базовыми технологиями веб-разработки и веб-дизайна. Желательно, хотя и необязательно, также предварительное знакомство с историей вычислительной техники, телекоммуникаций, веба, математической теорией графов и междисциплинарной когнитивной наукой.</p>
<p>Изложение книги построено таким образом, чтобы концепция SiteXML и ее реализация, которые описаны в Части 3, логически вытекали из более ранних частей и глав. Первая часть книги содержит общеизвестные данные, подобранные и расположенные таким образом, чтобы были понятны основные предпосылки необходимости существования универсальный архитектуры сайта. Если вы при чтении любой главы чувствуете, что эта информация вам уже знакома, вы можете ее пропустить и с легкостью переходить к следующим главам.</p>

<h2 name="definitions">Определения</h2>
<p>В книге нам потребуются некоторые определения. В большинстве своем они присутствуют в повседневном языке не только ученых, но и простых обывателей, поэтому известны и понятны многим. Однако, вследствие того, что эти понятия являются частью общемировой культуры и часто употребляются людьми, которые не являются специалистами в области информатики, определение их бывает размыто и их смысл может немного различаться в разном контексте. Вследствие этого они не годятся для использования в серьезном исследовании и требуют их уточнения. Я не претендую на то, что именно мои определения будут самыми точными, и привожу их здесь для синхронизации терминологии с концепцией, т.е. для того, чтобы изложение книги было понятно и соответствовало здравому смыслу. Другими словами, строгость определения этих терминов, приведенных здесь, распространяется только на текст этой книги и обратно&nbsp;&mdash; если в книге используются эти термины, то понимать их следует только в соответствии с приведенными здесь определениями. Итак,</p>

<p class="definition"><em><strong>Веб-страница</strong> </em>, или <em>гипертекстовый документ</em>&nbsp;&mdash; это текстовый документ с гиперссылками в компьютером представлении, т.е. в виде файлов, которые способны отображать браузеры.</p>

<p class="definition"><em><strong>Гиперссылка</strong></em>&nbsp;&mdash; часть текста, ссылающаяся на другой документ. При этом некоторые другие объекты текста&nbsp;&mdash; изображения, видеоролики или области документа&nbsp;&mdash; тоже считаются частью текста.</p>
<p class="note"><strong>Замечание</strong><br>
В данной книге понятие страницы может использоваться в более общем смысле, т.е. как объект гиперссылки. В таких случаях под страницей может пониматься любой файл, не имеющий гиперссылок&nbsp;&mdash; изображение, видеоролик, и т.д.</p>

<p class="definition"><em><strong>Веб</strong></em>&nbsp;&mdash; совокупность веб-страниц в едином адресном пространстве Интернета. Адресное пространство&nbsp;&mdash; пространство адресов, составленное таким образом, что каждой веб-странице соответствует уникальный адрес. Адрес состоит из IP-адреса или домéна и пути к файлу, соответствующему веб-странице. Существует общепринятое адресное пространство, однако в техническом смысле этих адресных пространств может быть сколько угодно. Общемировое пространство будем называть всемирным вебом, или WWW. Веб&nbsp;&mdash; это связная информация в максимально чистом человеко-читаемом виде.</p>
<p class="note"><strong>Замечание</strong><br>
Очень важно различать веб и Интернет. Веб является способом организации информации, в то время, как Интернет является способом доступа к файлам, содержащим эту информацию, т.е. компьютерной сетью в техническом аппаратно-программном смысле.</p>

<p class="definition"><em><strong>Домéн</strong></em>&nbsp;&mdash; (от англ. domain&nbsp;&mdash; область знания). В смысле компьютерных сетей и DNS домен&nbsp;&mdash; это мнемонический адрес вида: <nobr>aaa.[…].yyy.zzz</nobr>. Однако в смысле архитектуры веба и когнитивности, домен необходим для организации иерархической структуры областей знания и вербальной адресации, т.е. чтобы люди могли адресовать друг друга на эти домены. В русском языке (как и в английском, из которого это слово заимствовано), ударение ставится на второй слог.</p>
<p class="definition-next">Домен до сих пор несет когнитивную нагрузку, но не ту, которая предположительно в него закладывалась учеными. Это логично, учитывая, что пользователями доменов стали не ученые, организующие и структурирующие знание, а обычные люди, решающие свои задачи. В конечном счете идею доменов следует считать неудачной как по отношению к задаче организации знания, что очевидно, так и по отношению к задачам простых людей, что видно по огромной конкуренции за удобными доменами.</p>

<p>В ходе изложения книги нам нужно различать две разных эпохи и понимать их отличия:</p>
<p class="definition"><em><strong>Онлайновый веб, онлайновая эпоха</strong></em>&nbsp;&mdash; это веб в то время, и то время, в которое мы живем сейчас. Оно характеризуется тем, что большинство людей самых разные профессий, образования и возраста, пользуются сетью Интернет и вебом, которые прочно вошли в их жизнь и стали частью их окружающей среды. Эта эпоха началась примерно в 1995-2000 годах.</p>
<p class="definition"><em><strong>Доонлайновый веб</strong></em>, и <em>доонлайновая эпоха</em>&nbsp;&mdash; это, соответственно, то время, которое предшествовало онлайновой эпохе, но когда уже существовали веб и Интернет. Пользователями веба и сетей в это время были в основном ученые или инженеры в среде ученых.</p>
<p>Понимание этих двух эпох очень важно для дальнейшего рассмотрения концепции.</p>

<p>Определение сайта, которое является ключевым для всей концепции:</p>

<p class="definition"><em><strong>Сайт</strong></em> (веб-сайт, вебсайт)&nbsp;&mdash; это коллекция веб-страниц, объединенных единообразным оформлением, единообразной навигацией (или информационной архитектурой) и доменом.
<p class="notes"><strong>Важные замечания</strong>:</p>
<ol>
<li>Данное определение сайта не является строгим в математическом смысле компьютерных технологий. Оно скорее связано с человеческим восприятием, т.е. когнитивностью. Например, если мы изменим оформление страниц (HTML-верстку или расположение блоков), так, что в смысле содержания соответствующих им файлов они не будут идентичны, но так, что они все равно будут квалифицироваться человеком как одинаковые. В таком случае человек все равно будет воспринимать ту же группу страниц как сайт. несмотря на то, что в компьютерном смысле (т.е. строгом), они будут с разным оформлением.</li>
<li>Существуют более строгие определения для облегчения компьютерной манипуляции, например, для поисковых технологий. Например, сайт&nbsp;&mdash; это группа страниц, находящихся в адресном пространстве одного домена. При таком подходе все, что находится на одном домене, считается одним сайтом, что не всегда верно, т.к. на одном домене можно разместить сколько угодно много разных сайтов в когнитивном смысле.</li></ol>
<p class="definition"><em><strong>Динамический сайт</strong></em>&nbsp;&mdash; это сайт, который генерирует страницы на лету, в зависимости от параметров, переданных пользователем. Отличается от обычного сайта тем, что не имеет HTML-страниц в сохраненном виде.</p>
<h2 name="intro">Введение</h2>
<p>Как будет видно из дальнейшего обзора истории, веб создавался как сеть веб-страниц, но не сайтов. Однако сегодня очевидно, что всемирный веб&nbsp;&mdash; это сеть сайтов, а не страниц. Это доказывается тем, что люди никогда не говорят друг другу, когда хотят сообщить, что есть некоторая информация по адресу A/b/c, «сходи на страницу A/b/c», они говорят друг другу: «Сходи на сайт A». Следовательно, веб воспринимается людьми как веб сайтов, а не страниц.</p>
<p>Понятие сайта не было заложено в архитектуру интернета и веба, в отличие от страницы. Тем не менее, у нас имеется отличный стандарт веб-страниц, который называется HTML и существует официальная организация W3C, которая разрабатывает и поддерживает этот стандарт, но нет стандарта веб-сайтов, которые на самом деле и являются составной единицей веба в человеческом восприятии.</p>
<p>Поскольку сайт не был стандартизирован, в отличие от веб-страницы и информационной архитектуры домена, человеческое (когнитивное) восприятие сайта и его компьютерная реализация не соответствуют друг другу. Это вызывает большую неразбериху, сильно усложняет использование сайтов в человеческом общении и восприятии, тормозит развитие компьютерных технологий и, в конечном итоге, замедляет когнитивные процессы в обществе, т.е. препятствует всемирному прогрессу.</p>
<p><strong>SiteXML</strong>&nbsp;&mdash; это попытка создания такого стандарта или хотя бы универсальной структуры сайта, которая сможет встроиться в современный ландшафт веб-технологий без существенного изменения этого ландшафта.</p>

<h2 name="part1">Часть 1. История веба</h2>


<p class="epigraph">Consider a future device for individual use, which is a sort of
mechanized private file and library. It needs a name, and, to coin one
at random, "memex" will do.<br><br>
Vannevar Bush, As We Might Think</p>



<h3>Введение</h3>
<p>Веб создавался как веб страниц, а в реальности оказался вебом сайтов. У нас есть стандарт страниц, но нет стандарта сайтов.</p>

<p>В начале 20-го века мир находился в конфронтации за глобальную гегемонию. К этой конфронтации, вероятно, привело невероятное ускорение научно-технического прогресса вследствие потери авторитета церкви как главного источника мысли и знания и передачи этого авторитета науке.</p>
<p>Мировые войны создали огромное напряжение всех ресурсов, включая интеллектуальные, что привело к большому росту числа научных публикаций. Уже в середине 20 века ученые обнаружили то, что стало невозможно поспевать за прогрессом, и нужен некий новый инструмент для работы с глобальным знанием и с мгновенным доступом к любой единице этого знания. Так появились информационные технологии.</p>
<p>
До начала 1990-х годов информационные технологии поступательно и фундаментально развивались в среде ученых, обладали архитектурной целостностью, но в начале 1990-х годов веб внезапно стал доступен всему человечеству и стал развиваться настолько быстро, что ученые потеряли над ним контроль.</p>
<p>В результате естественной эволюции веба в «дикой» среде он обрел другие черты, другую функциональность. Это вполне логично, поскольку сначала веб разрабатывался учеными и для ученых, а в естественных условиях скоро стало ясно, что требования к нему должны быть другие. Научная мысль требует обстоятельности и имеет определенный темп, который значительно ниже темпа развития спонтанных общественных явлений, поэтому определить эти требования и создать соответствующую научно-техническую базу ученые возможности не имели.  Разработкой веба стали заниматься люди, далекие от фундаментальной мысли и заинтересованные только в получении быстрой прибыли. В этом главное отличие доонлайновой эпохи от онлайновой.</p>
<p>В момент своего выхода в мир веб имел архитектурные принципы, которые забыты, игнорируются или не понимаются до сих пор. Это как тормозит развитие веба, так и создает в конечном итоге серьезный дискомфорт у простых пользователей.</p>
<p>Среди этих принципов полная платформонезависимость, проста и свобода использования, высокая устойчивость, целостность информационной архитектуры с восприятием, простота редактирования и целостная модель безопасности. Кроме того, веб был спроектирован без отрыва от компьютерной инфраструктуры, он был очень органично встроен в компьютерную технологическую мозаику. К этому мы вернемся далее.</p>
<p>Еще один тезис&nbsp;&mdash;  это непредусмотренные требования онлайновой эпохи: эстетика, редактирование контента и структуры без навыков программирования и использования CLI. Его мы также рассмотрим подробнее ниже.</p>
<h3>1.1. Откуда взялся веб</h3>
<p>Чтобы были понятны логические предпосылки данной работы, необходимо рассмотреть историю возникновения веба, цели и проблемы, которые ставили и решали его изобретатели, посмотреть, были ли решены эти проблемы и не возникли ли новые из-за того, что изменились окружающие условия, и если эти проблемы появились, то почему и что они из себя представляют.</p>
        <h4>1.1.0. Бумажный веб</h4>
<p>Самый первый веб был бумажный. Сначала были рукописные документы, которые постепенно стали сшивать в книги. В какой-то момент в конце документа или книги стали делать ссылки на используемую литературу, другие документы и другие книги. Если взять документ или книгу из этого списка, то в конце этого документа или книги тоже с большой вероятностью будет еще один список использованной литературы, и так далее.</p>
<p>Вот эти ссылки и сформировали первый, бумажный, веб документов и книг. Однако, очевидно, что использование этого веба трудоемко. Чтобы получить каждый следующий документ или книгу из этого веба, нужно идти в библиотеку, книжный магазин, или заказать доставку по почте. Это также требует много времени&nbsp;&mdash;  дни, недели, иногда, может быть, даже месяцы. Поэтому, как только инженеры и ученые только начали мечтать о персональных машинах с графическим выводом информации, они тут же стали думать, как ускорить передачу и получение документов с помощью радиоэлектронных средств коммуникации.</p>
        <p>Именно эта работа, именно в направлении "электронизации" знаний на бумажных носителях, и именно в таком формате и была проделана. Результатом этой работы стал современный веб, и нужно помнить, что современный веб&nbsp;&mdash;  это электронная форма той самой устоявшейся бумажной формы. Это было удобно поначалу, но когда проблема доставки научной документации была решена, а решена она была очень быстро, то эта форма стала ограничением. Мы попытаемся предложить решения для обхода этого ограничения, но сначала давайте рассмотрим основные этапы превращения веба на бумажных носителях в электронный.</p>
<h4>1.1.1. Ваннивар Буш. 1945</h4>
<p class="definition"><em>Рост количества научной информации; недостаток времени на ее получение и освоение; скорость доступа к информации; модель ассоциативных связей.</em></p>
<p>Первая попытка создания веб-образной технологии и прото-гипертекста встречается в 1945 году в статье Ваннивара Буша «Как мы могли бы мыслить», в которой он описывает новый тип энциклопедического устройства Мемекс. Принцип работы этого гипотетического устройства состоял в том, что он должен был содержать в себе всю библиотеку оператора в виде микрофильмов и осуществлять быстрый доступ к любому из них. При этом микрофильмы связаны между собой поименованными связями. Эта модель повторяет модель работы человеческого мозга с данными посредством ассоциативных связей, когда мысль переходит от одного объекта к другому по цепочке ассоциаций. Впоследствии даже предполагалось использовать это устройство для изучения самого мозга и мышления.</p>
<p>Ваннивар Буш обратил внимание, что фототехника в то время достигла значительных высот и на относительно маленькой площади микрофильма можно было запечатлеть большое количество визуальной и текстовой информации, которую с помощью проектора можно увеличить до размера, приемлемого человеком. Буш также предположил, что вследствие этой тенденции вскорости в объеме коробка спичек можно будет "записать многотомную энциклопедию Британика" (цитата). В терминах, возможно, более понятных русскому читателю, особенно жившему в советское время, это объем многотомной БСЭ. Предполагалось, что микрофильмы можно будет покупать и доставлять по почте.</p>
<p>Ваннивар Буш был очень влиятельной интеллектуальной фигурой. Во время Второй Мировой Войны Буш возглавлял им же инициированный в 1940 году Комитет исследований национальной обороны, который служил для связи военных и гражданской науки. В 1941 он стал руководителем только что созданного Агентства научных исследований и разработок. Можно себе представить, какая напряженная работа велась во время войны и какое огромное количество материала проходило через Буша. Ему стала очевидна проблема  информационной перегрузки, быстрого поиска и доступа к информации, которую и могло решить устройство Мемекс с концепцией ссылок и автоматизированного перехода по ним.</p>
<p>Сегодня ежедневно появляются десятки, а может быть и сотни, если не тысячи, новых статей во всех областях знаний, накапливается огромное количество статистических данных. В этом смысле Буш был в авангарде. Он одним из первых столкнулся с этим явлением и сразу же предложил возможное решение, которое дало пищу для размышлений будущим поколениям.</p>
<h4>1.1.2. Дуг Энглбарт. 1962</h4>
<p class="definition"><em>Теоретическое обоснование модели Ваннивара Буша по глобальной ассоциативной библиотеке с быстрым доступом; модель гиперссылок.</em></p>
<p>Дуг Энглбарт стал одним из представителей этих будущих поколений исследователей. Он был впечатлен концепцией Мемекс, и следующей классической работой в данном направлении был его доклад министру воздушной обороны  США «<a href="https://www.dougengelbart.org/pubs/augment-3906.html">Расширение человеческого интеллекта</a>» 12 в 1962 году.</p>
<p>Под впечатлением от статьи Ваннивара Буша, Дуг также изобретает компьютерную мышь, которая сыграла очень важную роль в развитии компьютерных графических интерфейсов и в развитии веба в частности.</p>
        <p>Дуг Энглбарт был, по всей видимости, самой значительной фигурой в истории создания сегодняшнего веба, поскольку он считается первым, или одним из первых создателей видеопрезентаций, создателем мыши и текстового графического интерфейса, на который он планировал выводить текст с гиперссылками (которые так еще тогда не назывались), и даже самого текстового редактора.</p>
        <p>Как можно судить по названию его статьи, то, что он разрабатывал, он видел как ни много, ни мало, а способ мехнистического расширения человеческого сознания, или усилителя человеческого ума. Возьмите это на себе заметку, праздные веб-серферы.</p>
<h4>1.1.3. Тед Нельсон. 1965</h4>
<p class="definition"><em>Гипертекст; техническая реализация механизмов редактирования.</em></p>
<p>Еще одним первопроходцем, под влиянием идеи Мемекса работавшим в области гипертекста, был Тед Нельсон. В своей книге «Гики, дары приносящие», он утверждает, что именно он изобрел термин «гипертекст» и описывает свое детище Xanadu&nbsp;&mdash; гипертекстовый веб. Эта технология не встретила одобрения научной общественности ни в 60е, ни после по сей день, однако, вполне вероятно, что именно этот проект послужил наиболее близким праобразом сегодняшнего веба.</p>
<h4>1.1.4. Unix 1970</h4>
<p class="definition"><em>Информационная архитектура и контроль доступа к файлам.</em>
</p>
<p>Важная веха, без которой был бы невозможен успех веба,&nbsp;&mdash; это изобретение операционной системы Unix. Иерархическая структура каталогов и файлов стала важнейшей составляющей веба. До ОС Unix файлы представляли из себя все, что угодно и располагались на устройстве хранения как угодно. В ОС Unix впервые была введена иерархическая структура каталогов и в таком виде она и появилась в вебе. Доступ пользователей к каталогам и файлам регулировался с помощью управления доступом, которое состояло из групп, пользователей и RWE-кодом.</p>
<p>Позднее эта модель организации файлов стала частью архитектуры веба.</p>
<h4>1.1.5. Тим Бернерс-Ли. 1989</h4>
<p class="definition"><em>Разработка технических средств гипертекста&nbsp;&mdash; браузера и веб-сервера, языка разметки HTML и протокола передачи гипертекста HTTP.</em></p>
<p>Тим Бернерс-Ли работал в Европейском центре ядерных исследований CERN, когда ему пришла в голову мысль сделать браузер и веб-сервер на основе своих наработок. К этому времени уже существовали и были хорошо отработаны все необходимые технологии и понятия, необходимые для технического функционирования сети Интернет. Уже существовала ОС Unix с ее структурой хранения файлов и разграничения доступа к ним между пользователями. Существовал TCP/IP и высокоуровневые языки программирования. Существовали графические пользовательские интерфейсы и компьютерная мышь. Но, самое главное, как мы видим из краткой истории научной мысли, изложенной выше, были хорошо проработаны концепции гипертекста. Сливки снял Тим Бернерс-Ли, но мы должны понимать, что он стоит на плечах гигантов, и к реализации веба приложили руку и голову поколения талантливейших ученых и инженеров.</p>
<p>Именно концепция Бернерс-Ли совпала с взрывным развитием глобальной сети и именно она вышла из среды строго научно-технической в глобальное пространство информации. Это было логично, если рассматривать это событие в контексте тогдашней ситуации. Как бы то ни было, но сегодня Веб является неотъемлемой частью нашего мира.</p>
<p>Как только веб вышел из среды ученых, он тут же попал в мир рыночных отношений. Идея была хороша, но ученые потеряли контроль над ее реализацией.</p>
<p>Основным логическим понятием веба Тима являлась веб-страница с гиперссылками на другие веб-страницы. Веб-страница&nbsp;&mdash; это аналог смысловой единицы. Таким образом, все смысловые единицы должны оказаться в связанном графе. Позже были введены домены как разбиение на предметные области и организационные структуры, например, коммерческие организации должны были оказаться в домене первого уровня .com, а некоммерческие&nbsp;&mdash; в .org. Но время распорядилось по-другому.</p><p>Давайте отметим важный для нас момент, а именно то, что этот самый веб ЦЕРНа, Тима Бернерс-Ли и множества других участников (его еще принято иногда называть Web 1.0), является электронной моделью бумажного веба документов. Единственным отличием и главным изобретением Web 1.0 была гиперссылка, которая, в отличие от списка литературы и сносок в конце обычного бумажного документа, была размещена прямо в тексте, и позволяла мновенно получить документ, на который она ссылалась. То же самое в следующем документе и так далее. Для нас важно то, что никакими сайтами тут и не пахло, а, следовательно, в архитектуре Web 1.0 сайт предусмотрен не был. Немного забегая вперед, скажем, что сайт не предусмотрен в архитектуре и сейчас.</p>
<p>Немного погодя Тим Бернерс-Ли возглавил W3C&nbsp;&mdash; организацию, которая разрабатывает и поддерживает и по сей день стандарт HTML. Эта организация сыграла очень важную роль в нашей истории.</p>
<h4>1.1.6. Дот-ком бум</h4>
<p class="definition"><em>«Война браузеров», которая выразилась в активном росте функциональности браузеров, альтернативном «бесстандартном» расширении возможностей клиентских веб-технологий, и как следствие, фокус внимания исключительно на клиентской части веба. Это привело к бесконтрольному и беспринципному развитию веб-технологий серверной стороны.</em></p>
<p>В контексте истории 90-х годов, когда западный мир получил феноменальное и беспрецедентное в истории мира вливание финансов, ресурсов, технологий и мощнейшего научно-интеллектуального потенциала, которые до того времени были законсервированы в СССР, мировые рынки, потерявшие мощного игрока стали переформатироваться, а компьютерные технологии в США стали взрывообразно развиваться. Это были сказочные годы богатства и многообразия компьютерных технологий. Лидером этой компьютерной эпохи была компания Microsoft. Одна из особенностей этой компании состоит в том, что технологии, которые она создавала, отличались весьма посредственным техническим качеством из-за непродуманности архитектуры. Это давно стало притчей во языцех и, возможно, достойно отдельного исторического анализа, однако нам интересно только то, что основной целью этой компании был как можно более быстрый захват растущего рынка, но не создание качественных компьютерных технологий. А, поскольку, как было сказано ранее, компьютерные технологии ринулись в мир, далекий от науки и инженерного искусства, пользователь не имел больших потребностей, конкуренции было немного, и важнее всего было иметь хоть какой-нибудь продукт, чтобы заполнять растущий с огромной скоростью рынок. Это выразилось в преобладании красочной внешности над шаткой архитектурой.</p>
<p>В вебе это проявилось в виде противостояния браузеров Netscape и Internet Explorer. Веб быстро рос и всем было ясно, что это новый рынок и новая среда обитания, который заменит собой все, что было до сих пор. У компаний, производящих ПО, не было другой возможности для выживания, кроме как переместиться в веб. То же самое касалось и компании Microsoft, которая, будучи производителем одной из самых популярных операционных систем, имела огромное преимущество перед другими производителями браузеров, т.к. могла безусловно навязывать свой браузер пользователям своей операционной системы.</p>
<p>Браузер Netscape был, пожалуй, первым популярным браузером и большинство пользователей пользовались именно им, т.е. большая часть рынка принадлежала ему. Браузер Netscape полагался на стандарт HTML, который поддерживался и первые версии Internet Explorer (далее IE)&nbsp;&mdash; тоже, но довольно скоро в IE, который активно и довольно успешно боролся за место под солнцем, стали появляться новые возможности, а реализация HTML и DOM в IE сильно отличаться от реализации HTML и DOM в других браузерах.</p>
<p>Это вызвало резкую критику в среде веб-разработчиков. Им приходилось тратить очень много сил на кросс-браузерность, делать фактически одну и ту же работу для разных браузеров, и при этом не было никакой гарантии, что все это будет работать в новой версии браузеров.</p>
<p>Фокус внимания лидеров индустрии сконцентрировался на стандартизации HTML, которую проводила организация W3C под руководством Тима Бернерс-Ли. При этом никто не думал, что происходит на серверной стороне.</p>
<h4>1.1.7. Рождение динамического сайта</h4>
<p>А на серверной стороне никаких работ по стандартизации не велось. При этом, недостатки архитектуры должны были восполняться частными неорганизованными усилиями веб-разработчиков, которые, не очень хорошо разбирались в архитектуре компьютерных систем. Как правило, эти разработчики были простыми пользователями компьютеров с графическими интерфейсами. Поскольку Web 1.0 был спроектирован таким образом, что каждый пользователь мог участвовать в его создании, независимо от уровня своей подготовки, то именно это и стало происходить&nbsp;&mdash; веб стали создавать неподготовленные люди.</p>
<p>В результате каждый разработчик создавал свою программную систему, свой формат данных для генерации результирующего HTML-кода. По истечение некоторого времени сформировались более-менее успешные системы управлением контентом и стали занимать свои доли своего рынка. Сегодня мы имеем совершенно не совместимые между собой системы и совершенно не упорядоченную серверную часть. То, что получает браузер в виде HTML&nbsp;&mdash; обман со стороны серверной части, поскольку там нет никаких HTML-файлов в этом виде, есть множество исходных файлов различного формата, из которых собирается HTML-страница, которую получает браузер и демонстрирует в конце концов пользователю.</p>
<p>Проблема данной ситуации состоит в том, что таким образом были утеряны абсолютно все преимущества изначальной концепции устройства веба. А самым главным несоответствием является то, что веб есть информация в виде неисполняемых текстовых файлов, а динамический сайт&nbsp;&mdash; программное обеспечение со всеми вытекающими следствиями, которые мы рассмотрим ниже.</p>
<h4>1.1.8. От Web 1.0 к Web X.0</h4>
<p>
В какой-то момент стали говорить о таких странных терминах, как Web 1.0, Web 2.0 и даже Web 3.0. До сих пор нет четкого определения, что такое Web 2.0 и Web 3.0, но Web 1.0, скорее всего, обозначает тот самый первый веб документов, который создал и выпустил Тим Бернерс-Ли в Центре ядерных разработок. Под Web 2.0 подразумевается некий современный веб, или веб с богатой функциональностью, а под Web 3.0&nbsp;&mdash;  некий будущий веб, например, веб данных, или Semantic Web&nbsp;&mdash;  того же автора, что и Web 1.0.</p>
<p>Следуя данной терминологии, мы бы предложили ввести понятие Web 2.17, просто для того, чтобы как-то именовать в данном тексте тот веб, который сложился сегодня. Мы убеждены, что Web 2.17 не может перейти границу и стать вебом будущего, потому что он использует и ограничен архитектурой Web 1.0, в которой нет ничего, кроме документов и средств для их хранения, передачи и визуализации.</p>
<p>
    Чтобы перейти к будущим формам веба, которые будет служить способом хранения, передачи и распространения знания в более совершенном виде, мы должны оформить в архитектурном виде Web 2.17. Этим мы и занимаемся в данном труде, и это позволит нам закрыть проблему Web 2.17 и начать работу над Web 3.0, Web 4.0 и т.д.</p>
<h3>1.2. Утерянные преимущества</h3>
<p>В результате дот-ком бума, когда инвестировались миллиарды долларов в веб-сайты, образ инженера доонлайновой эпохи, когда на весь научно-исследовательский институт был один программист, окруженный учеными, изменился. Огромные инвестиции и головокружительный успех некоторых молодых счастливчиков, породили огромную армию веб-разработчиков. Как правило, это были молодые люди, часто школьники или студенты. Зачастую это были умные люди, но, в любом случае,  это были далеко не ученые, и как правило, они даже не понимали, каким предметом они занимались. Это и охарактеризовало переход между доонлайновой и онлайновой эпохой.</p>
<p>Кода веб вышел из-под контроля ученых, которые могли бы гарантировать его целостность как технологии и научной теории, он был не совсем тем, что представляет из себя сейчас. Там было много того полезного, чего нет сейчас, но в то же время, там не было много того приятного, что есть сейчас.</p>
<p>Давайте рассмотрим, какими свойствами обладала архитектура доонлайнового веба, и сохранились ли эти свойства сейчас.</p>
<h4>1.2.1. Архитектура доонлайнового веба</h4>
<p>Тим Бернерс-Ли создал HTML для разметки гипертекста, HTTP для передачи гипертекста, а также браузер для просмотра HTML-файлов и веб-сервер для обработки HTTP-запросов.</p>
<p>Эта архитектура зеркальна и полностью покрывает потребности веба, состоящего из документов. Компьютер пользователя просто скачивает нужный файл с помощью браузера, который и отображает этот файл, преобразовывая HTML в визуальное форматирование текста и делает некоторые участки текста ссылками на другие документы.</p>
<p>Эта архитектура сохраняется сегодня на стороне клиента. Браузер по-прежнему запрашивает и отображает HTML-файлы, т.е. браузер существует в этой архитектуре. На сервере ничего подобного нет.</p>
<h4>1.2.2. Свобода публикации</h4>
<p>Плюс и, пожалуй, главный принцип такой организации веба состоит в том, что создавать веб, т.е. публиковаться в нем, может любой пользователь персонального компьютера, который владеет базовыми навыками пользователя&nbsp;&mdash; умеет копировать файлы и редактировать текст.</p>
<p>Сегодня дело обстоит прямо противоположно&nbsp;&mdash; из-за того, что практически все сайты реализуются с помощью динамического сайта, который требует специализированного персонала и дорогостоящей инфраструктуры, автор практически изолирован от веба.</p>
<h4>1.2.3. Платформонезависимость</h4>
<p>Доонлайновый веб был полностью платформонезависимым. Одни и те же HTML-файлы можно было хранить и просматривать на сервере, в браузере, в любой операционной системе. Фактически, веб-страницы, которые пользователи открывали в своем браузере, скачивались с сервера в неизмененном состоянии на клиентскую машину с любой ОС на любую ОС и открывались в соответствующей программе. Точно так же можно было скопировать весь корневой каталог домена и сохранить его на любой машине с любой ОС, и все должно было работать, и работало.</p>
<p>Сегодня эта платформонезависимость полностью утрачена. Поскольку главным "кирпичиком" веба является страница, она хорошо определена и стандартизирована, чего не скажешь о сайте. Для функционирования сайта недостаточно одного HTML. Для работы сайта требуется управление его структурой и внешностью, и многими другими параметрами, поэтому разработчики сегодня используют и создают различные вспомогательные инструменты для поддержания структуры сайта.</p>
<p>Большинство сайтов сегодня работают только с помощью этих вспомогательных инструментов, по большей части это CMS, и эти системы не только не платформонезависимым, но они также не совместимы между собой. Т.е. если вы выбрали для своего сайта некую CMS “A” и она создана для работы на определенной платформе, допустим LAMP, то вы не только не сможете свой сайт переместить на другую платформу, но и в CMS “B” на той же платформе. Таким образом, вы оказываетесь в ловушке и если вы по какой-то причине хотите уйти от использования платформы LAMP или CMS “A”, то вам придется вкладываться в перепрограммирование сайта, т.е. заниматься его рефакторингом, что бывает довольно дорого и имеет не всегда предсказуемые результаты. Это совершенно не та модель использования, которая предполагалась при создании веба.</p>
<h4>1.2.4. Архитектурная стабильность</h4>
<p>Основной особенностью того, что производит хороший архитектор (обычный, а не компьютерный), является то, что его произведение его искусства устойчиво, т.е. не ломается легко. Мы видим сегодня, что произведения классического архитектурно-строительного искусства стоят веками и с ними ничего не происходит, если, конечно, их специально не начать разрушать. Несмотря на то, что некоторые построены тысячи лет назад, ими все так же можно пользоваться по их первоначальному назначению. То же самое верно и для компьютерной архитектуры технических стандартов, ПО и аппаратной части.</p>
<p>Вот признаки правильной архитектуры, которые верны как для строительства, так и для компьютеров:</p>
<ul>
    <li>функциональность;</li>
    <li>эстетичность;</li>
    <li>устойчивость</li>
</ul>
<p>Доонлайновый веб был эстетичным и функциональным, но при переходе от веба документов к вебу сайтов, он перестал быть таким. Используя сейчас архитектуру, которая больше не функциональна, т.е. не соответствует функциональным задачам, мы не можем построить ничего эстетичного и устойчивого.</p>
<p>Доонлайновый веб был устойчивым. Сломать HTML и сейчас довольно трудно, по меньшей мере случайно. Если на сервере имеется файл с поврежденным HTML и известен его адрес, то он будет скачиваться и отображаться в браузере. Конечно, если нарушена структура HTML, то он может отражаться некорректно, но он будет работать! HTML&nbsp;&mdash; язык с нестрогим синтаксисом, поэтому можно делать любые ошибки в коде, а сервер и браузер при этом будут работать. Этого никак нельзя сказать про современные веб-технологии. Они совершенно не стабильны, хрупки, многослойны и ломаются чрезвычайно легко из-за ошибок в программном коде или сбоях в программном окружении этого кода. Вы можете забыть поставить одну запятую в коде и весь сайт может перестать работать, при этом найти эту ошибку будет очень нелегко из-за многослойности.</p>
<p>Если сегодня взять программиста и попросить его исправить сломанный сайт, не говоря ему ничего более этого, то он может провести много времени, ломая голову, а то и совсем ничего не починить. А ошибка может быть совершенно мизерной.</p>
<p>Разве может называться разработчик такого программного продукта архитектором? И можно ли вообще называть архитектурой ту структуру, которая является сайтом на серверной стороне? Конечно, нет, до этого пока далеко. Однако, в первоначальном виде архитектура была создана правильно и мы постараемся восстановить ее преимущества, дополнив ее отсутствующими функциональными частями.</p>
<h4>1.2.5. Простота создания</h4>
<p>Одним из преимуществ, но одновременно и проклятием была простота разработки. Для того, чтобы редактировать HTML подходит любой текстовый редактор. В любой ОС он обычно имеется и бесплатен. Следовательно, если у вас есть компьютер, и на нем есть ОС, то там, как правило, есть и все необходимое для разработки. Синтаксис HTML настолько простой, что его не надо изучать. Назначение HTML-тегов вытекает из их названия, а браузеры и серверы нечувствительны к ошибкам, что сводит к нулю необходимость отладки среды разработки.</p>
<p>Этого никак нельзя сказать про современные веб-технологии, и тенденция их развития такова, что новые серверные технологии все усложняются, становятся все более многослойными и запутанными. Они требуют все больше времени для вхождения разработчиков в процесс разработки. Появляются новые все более изощренные системы серверной разработки и они все дальше уводят нас от изначальной простоты.</p>
<h4>1.2.6. Зеркальная структура информации</h4>
<p>Во время смены онлайновых эпох был введен термин WYSIWYG, который относился к текстовым редакторам. Сегодня его применяют к редакторам текста, реализованным с помощью веб-технологий, но мне бы хотелось тут применить этот термин к информационной структуре сайта.</p>
<p>Когда-то давно, в безвозвратно ушедшем прошлом, структура файлов корневого каталога сайта на сервере обладала полным соответствием структуре информации на сайте. Фактически, она соответствовала принципу WYSIWYG&nbsp;&mdash; «что видим, то и получаем». Это было очень логично и понятно, это облегчало обслуживание и передачу сайта.</p>
<p>Например, если в вебе у вас имеется страница с адресом http://example.com/a/b/c, то это означает, что на сервере имеется файл по адресу /[…/siteroot]/a/b/c. Если этот файл отредактировать на сервере, то он изменится и на сайте.</p>
<p>Сегодня, открывая страницу в вебе, мы видим адрес http://example.com/a/b/c, но если мы заглянем на сервер в корневой каталог сайта, то мы не увидим соответствующей структуры, но вместо этого мы увидим какой-то невообразимую кашу из файлов, не имеющую ничего общего со структурой сайта. Мы понятия не имеем, в каком виде эта структура и соответствующие ей страницы хранятся на сервере. Это чрезмерно затрудняет техническую поддержку, сайтов, веба и работу непосредственно с информацией.</p>
<h4>1.2.7. Простота редактирования контента</h4>
<p>Веб был так сконструирован, чтобы редактировать контент мог любой желающий с помощью простого текстового редактора, который обычно имеется в базовой поставке любой операционной системы. Поскольку информационная архитектура была зеркальной, то файлы, отредактированные на сервере, были именно теми файлами, которые получал пользователь на сайте.</p>
<p>Сегодня это, конечно, не так. То, что имеется на сайте, включая содержимое и контент, совершенно не соответствует тому, что имеется не сервере. Если бы пользователь сайта, даже обладающий хорошими познаниями в области веб-разработки, заглянул на серверную сторону этого сайта, то ему было бы очень сложно найти, где это содержимое и структура сайта хранится, потому что обычно они хранятся в неявном виде, как правило, в базе данных. В результате, редактирование этих важнейших составляющих сайта требует сложных промежуточных инструментов и, если не знать, как устроен механизм преобразования этих составляющих в собственно сайт, то при их редактировании немудрено и совсем сломать сайт.</p>
<h4>1.2.8. Целостная концепция безопасности</h4>
<p>Концепция безопасности в вебе в первозданном виде полагается на концепцию безопасности используемой операционной системы. На самом деле безопасность веба и определялась безопасностью операционной системы. Это означает, что для редактирования содержимого и структуры сайта достаточно иметь доступ к соответствующим файлам, который контролирует система управления доступом, являющаяся частью операционной системы.</p>
<p>К сожалению, не все операционные системы имеют хорошую и совместимую систему управления доступом. Например, в *nix системах эта система хорошая, а в Windows эта система работает по другому принципу. Это привело к тому, что с безопасностью в вебе сейчас полная беда.</p>
<p>Современные CMS менее безопасны, чем это предполагала изначальная конструкция веба, потому что они добавляют довольно большой слой программного кода, который мало того, что сам по себе может иметь много ошибок и потенциальных уязвимых мест, но еще и реализуют систему доступа к содержимому по своим правилам, которые не связаны с как правило более защищенной системой безопасности ОС.</p>
<h4>1.2.9. CLI как основной инструмент управления</h4>
<p>Одним из самых лучших преимуществ доонлайнового веба была возможность управления им с помощью CLI. Это очень простой и мощный инструмент, в который влюбляются все, кто начинает им пользоваться достаточно свободно. Никакие другие инструменты не нужны, если вы умеете пользоваться CLI.</p>
<p>Сегодня и речи нет о том, чтобы управлять сайтом с помощью CLI. Как упоминалось выше, для редактирования сайта сегодня нужны сложные промежуточные инструменты, которые зачастую сами обладают хрупкой архитектурой и не всегда разрабатывались непосредственно для цели управления сайтами, а просто используются для этой цели без применения каких-либо стандартов или концептуальных основ.</p>
<p>Мы также постараемся это исправить.</p>
<h4>1.2.10. Малая ресурсоемкость</h4>
<p>Доонлайновый веб был построен на HTML-файлах, которые есть не что иное, как простой текст. Простой текст не нужно исполнять, его не нужно перерабатывать. Его нужно просто прочитать и переслать тому компьютеру, которые его запросил. Следовательно, нагрузка на ресурсы севера минимальная. Сложно придумать что-то менее ресурсоемкое.</p>
<p>Сегодняшний веб на основе динамического сайта, главная задача которого создавать иллюзию доонлайновой архитектуры в многократно усложнившейся реальности, состоит из сложнейшего многослойного комплекса программного обеспечения. Зачастую компоненты этого комплекса могут выполнять более общие задачи, чем те, которые они выполняют в составе динамического сайта. Это означает, что они очень более мощные, чем нужно, но при этом и более ресурсоемкие, чем нужно. Это означает, что доонлайновый веб не требовал больших ресурсов, а современный веб слишком ресурсоемкий и, следовательно, дорогой.</p>
<h4>1.2.11. Малая нагрузка на сети</h4>
<p>Судя по всему, Тим Бернерс-Ли и все его предшественники не предполагали, что веб будет монетизироваться с помощью рекламы. Веб-страницы тех времен были довольно просто оформлены, как обычные документы с иллюстрациями, поскольку, напомню, это делалось в интересах научного сообщества. Как правило, это должен был быть простой текст без вычурного оформления, функциональности и рекламы. Смысловая информация должна была составлять 90%, остальное&nbsp;&mdash; уникальная для страницы HTML разметка и служебные мета-данные. В результате, каждая скачиваемая страница на 100% была уникальной и не «тащила» за собой ничего лишнего. Этим достигалась быстрая загрузка и визуализация страниц браузером, что давало хороший удобство пользователя.</p>
<p>Сегодня мы видим, что средняя веб-страница&nbsp;&mdash; это примерно 60% площади, занятой рекламой и оформлением и оставшееся место&nbsp;&mdash; текст. В результате, пользователи страдают от когнитивных усилий разделить полезную информацию от шума, системы автоматизированного сбора информации страдают от повышенной сложности алгоритмов анализа веб-страниц, сети страдают от повышенного объема скачиваемой информации, поскольку все страницы сайта, по нашему определению, имеют одно и то же оформление, которое достигается за счет использования одних и тех же ресурсов. 90% загружаемой информации&nbsp;&mdash; реклама и оформление. Страницы перегружены изображениями, которые затрудняют загрузку и увеличивают время генерации страниц, что является большим фактором, ухудшающим удобство пользования.</p>
<p>Эта проблема полностью решается с помощью SiteXML, поскольку позволяет представлять сайт в том виде, который удобен пользователю.</p>
<h4>1.2.12. Удобство пользования</h4>
<p>Доонлайновые веб был удобным при решении тех задач, которые он решал&nbsp;&mdash; т.е. доставка пользователям гипертекстовых документов. Внешний вид документа полностью повторял вид и оформление бумажного документа, а эта область была очень хорошо исследована и разработана в течение тысячелетий.</p>
<p>В онлайновом вебе, который использовал нефункциональную для него архитектуру доонлайнового веба, проблема удобства пользователя возникла практически мгновенна. Архитектура, которая должна была обслуживать документы, стала обслуживать сайты, которые никогда до этого не существовали в печатном деле.</p>
<p>Эта проблема стала очень популярна, т.к. можно было писать на эту тему исследовательские труды и работать экспертом по т.н. «юзабилити».</p>
<p>Веб стал весьма неудобным главным образом потому, что использовал нефункциональную, устаревшую архитектуру, которая не имела в себе понятие сайта и, следовательно, не могла решить функциональные задачи сайта.</p>
<p>Следовательно, чтобы решить проблему удобства пользователя веба, мы должны ввести эти недостающие функциональные части.</p>
<h3>1.3. Развитие веба в «дикой среде»</h3>
<p>Итак, где-то в начале 90-х веб вырвался из-под контроля ученых, попал в руки бизнеса и стал развиваться с огромной скоростью. Он породил огромное количество молодых миллионеров, создававших свои капиталы без вложений за считанные месяцы. Их пример побуждал других молодых людей изучать веб-технологии и разрабатывать сайты.</p>
<p>Первоначального HTML было недостаточно, поэтому производители браузеров под давлением потребностей быстрорастущей аудитории и армии разработчиков стали расширять его функциональность.</p>
<p>Самым первым изменением стало появление сайта. Страницы стали снабжаться навигационными блоками, объединявшими в себе пространство страниц доменов.</p>
<p>Следующим спонтанным этапом эволюционного развития стало оформление сайтов. Поскольку сайт стал инструментом не только передачи информации, но в первую очередь методом продаж, разработчики захотели оформлять сайты как можно привлекательнее, по примеру упаковки товара.</p>
<p>Вслед за оформлением сайта появилась потребность в богатой функциональности сайтов&nbsp;&mdash; как серверной, так и клиентской. Это повлекло за собой развитие всевозможных серверных технологий генерации сайтов и интерактивного взаимодействия. Стали появляться как оффлайновые (работающие на машине разработчика) инструменты для искусственного моделирования сайтов из страниц, так и онлайновые (т.е. генерирующие страницы в режиме реального времени на сервере).</p>
<p>В отличие от HTML, который был довольно неплохо сформирован скоординированными усилиями фундаментально мыслящих ученых и до сих пор поддерживается и развивается ими же и крупнейшими игроками рынка в рамках W3C, серверные технологии веба развивались спонтанно и никак не стандартизировались в смысле представления данных. Кто угодно мог выпускать свой продукт для генерации сайтов, при этом как правило, никакой осмысленной модели в масштаба рынка, не предлагалось. HTML все так же считается, как считается и по сей день главным стандартом веба. Но, как мы уже знаем, HTML&nbsp;&mdash; это стандарт страниц, а не сайтов и, следовательно, нам его не хватает.</p>
<h3>1.4. Будущее веба</h3>
<p>Веб неминуемо станет тем, чем он должен быть&nbsp;&mdash; глобальной библиотекой, живым отпечатком глобального знания. Любая информация, которую можно оцифровать, будет оцифрована, поскольку таким образом ее можно мгновенно передавать и получать. Кроме того, она может использоваться автоматическими системами машинного обучения и управления средой обитания человека, которая становится все более и более техногенной.</p>
<p>Уже сейчас можно видеть зачатки того, чем будет веб в будущем. Туда войдут все знания, как академические, так и неакадемические знания во всех вариациях и интерпретациях. В вебе будет информация обо всех объектах, которые окружают и полезны для человека, при этом эти оцифрованные объекты будут обладать функциональными блоками, т.е. ими можно будет управлять с помощью веб-технологий. Многие объекты физического мира будут иметь информационное представление в виде объектов, визуализированных и состоящих из свойств и методов, подобно объектам в объектно-ориентированном программировании.</p>
<p>В сеть будут связаны все бытовые и промышленные устройства, которые станут обучаемыми за счет этого глобального знания.</p>
<p>Благодаря существованию веба человечество качественно изменит парадигму образования. Уже сейчас детей нельзя оторвать от компьютеров в их разных видах&nbsp;&mdash; смартфоны, компьютеры, планшеты, игровые приставки. Если для нашего поколения компьютеры и веб&nbsp;&mdash; это нечто новое, чего не было в нашем детстве, то для сегодняшних детей получение информации через веб станет естественным и основным. Вероятно, что книги на бумажных носителях станут музейными экспонатами, а библиотеки&nbsp;&mdash; специальными музейными хранилищами для научных работников и исследователей. Очень хочется надеяться, однако, что какой-нибудь страшный катаклизм не сотрет их с лица Земли, но это уже другая тема.</p>
<p>Компьютерное образование на основе веба изменит, расширит и многократно ускорит обучение. Если уж автор в своем детстве считал обычную школу (хотя и совсем не плохую, как он сейчас понимает) бессмысленной тратой времени, то что можно сказать о современных детях, которые могут получить информацию о любой отрасли знания за секунды, включая высшую математику и ядерную физику.</p>
<p>Мы можем приблизить это время, улучшив архитектуру веба.</p>
<h3>1.5. Проблематика, выводы</h3>
<p>Раньше технологии публикации были дороги и доступ к ним имели только высокообразованные узкоспециализированные люди, которые следили за качеством восприятия этой информации. Сегодня к технологиям публикации и даже их разработке получили доступ абсолютно все люди. Эти технологии стали условно бесплатными, принимая за данность наличие технических средств&nbsp;&mdash; персональные и носимые компьютеры, включая умные часы, телефоны, планшеты, автомобили и в потенциале многие другие бытовые устройства. Это, разумеется, привело к тому, что публикуемая информация не стандартизирована и ее оформление низкого качества.</p>
<p>В результате, информация плохо воспринимается людьми, ее сложно найти, структурировать и также сложно она поддается и машинной обработке.</p>
<p>Сегодняшний сайт создается и поддерживается с помощью многочисленных систем управления контентом (CMS), которые работают каждый по своему стандарту, не совместимому с другими системами управления контентом. Системы CMS являются программными продуктами, работающими на различных платформах. Это означает, что сайт нельзя переносить между платформами, да и самими CMS. То, что сайт функционирует с помощью высокоуровневого ПО с не стандартизированными процессами, означает его хрупкость, т.е. неустойчивость.</p>
<p>Информация, представленная на сайте и компоненты, необходимые для работы сайта&nbsp;&mdash; оформление, реклама, функциональные элементы,&nbsp;&mdash; неотделимы  друг от друга, следовательно, пользователь не имеет возможности представить эту информацию в удобочитаемом для себя виде, т.е. отдельно от нерелевантных элементов и в структурированном виде.</p>
<p>То, что раньше было доступно всем вследствие простоты HTML, сегодня доступно малому числу программистов&nbsp;&mdash; создание и публикация сайтов в вебе на основе сложного программного обеспечения.</p>

<h3>1.6. Сегодняшние задачи</h3>
<p>Доонлайновый веб решал проблему быстрой публикации и доступа к знаниям. Эта проблема очень остро проявилась в результате развития и ускорения научного процесса и еще острее стоит сегодня. Объем знаний растет и скорость этого роста увеличивается. Вычислительные технологии позволяют собирать все больше и больше информации, обрабатывать ее и анализировать и систематизировать результаты. Следовательно, все также необходимы технологии для удобного получения этих знаний людьми.</p>
<p>Вот задачи, которые стоят сегодня перед вебом:</p>

<ul>
    <li>Быстрое восприятие информации людьми;</li>
    <li>Эстетичность;</li>
    <li>Коллективное, или многопользовательское редактирование контента;</li>
    <li>Безопасность и доступ к управлению и созданию для людей, у которых нет навыков программирования и администрирования компьютеров и сетей;</li>
    <li>Локализация, т.е. доступность одной и той информации на разных языках
    Машинное чтение, т.е. возможность использования веба для машинного обучения.
    Возможность представления информации в удобном виде на разных устройствах и разными пользователями.</li>
</ul>

<h2 name="part2">Часть 2. Теория сайтов</h2>


<p>Ясно, что проблемой, препятствующей дальнейшему развития веба, является отсутствие стандартной модели данных. Сайт, как зверь, вырвался на свободу и успел порядком одичать. Ниже попробуем поймать этого зверя и описать общие черты сайта в том виде, в котором он существует сегодня.</p>
<h3>2.1. Стандартизация сайтов</h3>
<p>Стандартизировать сайт, как сущность, состоящую из двух основных компонентов, можно на следующих уровнях:</p>
<ul>
    <li>на уровне хранения или генерации (серверная часть)</li>
    <li>на уровне пользователя (клиентская часть)</li>
</ul>

<p>Понятие сайта, как мы определили выше, не присутствует в архитектуре веба, но существует в реальном мире и из этого несоответствия мы имеем следующие проблемы, связанные с реализацией сайтов:</p>
<ul>
    <li>дублирование загрузки ресурсов (см.Ajax Browsing);</li>
    <li>зависимость от платформы (невозможность переноса сайтов);</li>
    <li>отсутствие стандарта и архитектуры, сложность поддержки, крайняя хрупкость;</li>
    <li>сложность создания и необходимость сложных знаний и инструментов (CMS, сайт-билдеры).</li>
</ul>
<h3>3.1. Типы сайтов</h3>
<p>Все сайты можно грубо разбить на два типа: гипертекстовый и функциональный. Гипертекстовый сайт характеризуется тем, что он состоит из преимущественно текстовой информации и может содержать функциональные элементы. Функциональный сайт, наоборот, главным образом выполняет функции, и может иметь менее значительную гипертекстовую составляющую.</p>
<p>Вторая группа является фактически не вебом, а приложениями, использующими веб-архитектуру и интернет для доступа пользователей. Во вторую группу можно выделить онлайновые одностраничные приложения, которые являются крайним частным случаем функциональных сайтов с минимальной гипертекстовой составляющей.</p>
<ul>
    <li>текстовый многостраничный
        <ul>
            <li>малостраничный (простая навигация, примерно вписывающаяся в концепцию 7x3)</li>
            <li>многостраничный (невозможность навигации, вики-образный, knowledge base)</li>
        </ul>
    </li>
    <li>текстовый одностраничный</li>
    <li>функциональный одностраничный</li>
    <li>функциональный многостраничный</li>
</ul>
<p>Частные примеры сайтов:</p>
<ul>
    <li>страница без оформления и навигации (доонлайновый веб)</li>
    <li>текстовый сайт, «сайт визитка»</li>
    <li>интернет-магазин</li>
    <li>новостной сайт</li>
    <li>форум</li>
    <li>блог</li>
    <li>функциональный сайт</li>
</ul>

<h3>3.1. Шаблоны сайта. Классификация.</h3>
<p class="definition">Данный раздел будет постепенно заполняться примерами шаблонов</p>
<p>Шаблоны оформления сайтов характеризуются расположением блоков. Восприятие человека таково, что блоки должны располагаться на каждой странице сайта одинаковым образом. Тогда страницы сайта будут восприниматься как страницы одного сайта, как следует из нашего определения сайта.</p>
<p>Основные блоки:</p>
<p>header</p>
<p>footer</p>
<p>блок навигации</p>
<p>основной блок</p>
<p>Типы шаблонов</p>
<p>“параллакс”</p>
<p>хедер сверху, навигация сверху, основной блок, футер</p>
<p>хедер, навигация слева, основной блок справа, футер</p>

<h3>3.2. Модели навигации. Информационная архитектура</h3>
<p>Навигация на сайте может быть следующих классов:</p>
<ul>
    <li>внешняя, или экзонавигация</li>
    <li>внутренняя, или обычная</li>
    <li>функциональная</li>
</ul>
<p>Внешняя навигация&nbsp;&mdash;  это навигация, которая ведет за пределы текущего сайта. Это бывает полезно, когда сайты связаны между собой, например, если это сайты продуктов одной и той же компании.</p>
<p>Функциональная навигация&nbsp;&mdash;  это навигация только в рамках гипертекстовой парадигмы, т.е. когда все все кнопки на интерфейсе являются ссылками. Если же мы будем рассмативать кнопки с точки зрения графических интерфейсов, то навигацией эти кнопки было бы трудно назвать. Тем не менее, оставаясь все же в рамках гипертекста, и поскольку мы рассматриваем функциональные веб-интерфейсы, то всю совокупность кнопок и текстовый пунктов меню программ мы будем называть функциональной навигацией.</p>
<p>Главным предметом нашего изучения является сайт, а основным видом навигации, который служит для создания целостности сайта, и который имеется в виду в нашем определении сайта, является внутренняя навигация. Эта навигация связывает страницы сайта.</p>
<p>Обычно страницы расположены в сайте иерархически, поэтому говорят о страницах первого уровня, второго, третьего и так далее. Некоторые виды навигации удобны только для одно- и двух-уровневых структур, другие позволяют работать с многоуровневыми иерархическими структурами.</p>
<p>Имеются следующие виды организации внутренней навигации:</p>
<ul>
    <li>навигация вверху в виде линейки, выпадающие списки 2-го уровня, по типу графического интерфейса программного обеспечения в ставшем уже традиционной оконной модели интерфейсов.</li>
</ul>

<h3>3.3. Типичная функциональность. Модули.</h3>
<p class="definition">Данный раздел будет постепенно заполняться примерами наиболее стандартных и часто используемых модулей</p>

<h3>3.4. Проблемы дублирования загрузки. Ajax-browsing.</h3>

<h3>3.5. Пересечение с теорией графов</h3>
<p>Веб-сайты, как и веб в целом, можно рассматривать с точки зрения математической теории графов. Можно применять несколько моделей.</p>
<p>Если рассматривать информационную структура сайта с его страницами и ресурсами, то его можно представить в виде одной из простейших разновидностей графов&nbsp;&mdash; дерева, где корень дерева&nbsp;&mdash; это первая страница сайта, которая находится в корне домена. Вершинами графа являются страницы, а ребрами&nbsp;&mdash; иерархическая связь дочерних страниц с родительскими. С учетом данной структуры веб представляется в виде леса, т.е. множества несвязанных графов-деревьев.</p>
<p>[Иллюстрация: иерархическая структура сайта sitexml.info]</p>
<p>Если же за ребро взять ссылку, как это делают поисковые системы, то получается, что сайт&nbsp;&mdash; это ориентированный граф, при этом вершиной является страница (в более общем смысле), которая может иметь множество ребер любой направленности&nbsp;&mdash; на страницу и со страницы.</p>

<h3>2.7. Манифест общих свойств сайта</h3>
<ol>
    <li>Вики-образные свойства:
        <ol type="a">
            <li>Редактирование сообществом
                <ol type="i">
                    <li>Открытым. Любые пользователи глобального сообщества могут редактировать содержимое. Это может быть полезно, например, для исправления орфографических или смысловых ошибок, для комментирования.</li>
                    <li>Открыто-закрытым. Пользователи глобального сообщества могут редактировать содержимое только после их авторизации или одобрения их правок администратором сайта.</li>
                    <li>Закрытым. Редактировать содержимое сайта могут менять только пользователи из строго ограниченного круга, определенного администратором. Пользователи из глобального сообщества не могут даже послать запрос на редактирование.</li>
                </ol>
            </li>
            <li>История изменений.</li>
            <li>Комментирование.</li>
            <li>WYSIWYG</li>
        </ol>
    </li>
    <li>Глобальная авторизация (opienId?)</li>
    <li>Платформонезависимость
        <ol type="a">
            <li>Полная раздельность клиента, сервера и контента</li>
            <li>CMS</li>
            <li>Server-alone</li>
            <li>Browser-alone</li>
            <li>Отсутствие необходимости в третьих продуктах (БД, фреймворки и т.д.)</li>
        </ol>
    </li>
    <li>Возможность редактирования в файловой системе
        <ol type="a">
            <li>Контент отделен от представления; в виде файлов.</li>
            <li>Структура файлов, как минимум, похожа структуру сайта</li>
        </ol>
    </li>
    <li>Минимум усилий для изучения (как HTML)</li>
    <li>Микроплатежи</li>
    <li>Независимость от внешних форматов</li>
</ol>

<h3>2.8. Как сделать мир лучше</h3>
<p>Сегодня в процессе создания сайтов участвуют следующие силы:</p>
<ul>
    <li>Производители CMS;</li>
    <li>Производители браузеров;</li>
    <li>Веб-разработчики, ориентированные в основном на использование великого разнообразия платформ разработки – LAMP, Java, и т.д. для того, чтобы писать серверные приложения;</li>
    <li>Веб-дизайнеры, ориентированные в основном на создание кросс-браузерного кода, который работает на всех клиентских устройствах</li>
</ul>
<p>Сложность ситуации состоит в том, что производители CMS не используют единого стандарта, для того, чтобы их продукты были взаимно совместимы, это ставит определенные преграды для мобильности сайтов в терминах технологий. Производители серверного ПО часто не понимают когнитивной и эстетической составляющей клиентской части, и наоборот, для веб-дизайнеров сугубо техническая серверная составляющая является сложной для понимания и планирования своей работы так, чтобы в результате появился качественный продукт.</p>
<p>Производители браузеров вообще не берут в расчет эти группы инженеров и дизайнеров и занимаются лишь результирующим HTML-кодом, который браузеры получают с сервера.</p>
<p>Чтобы изменить весь веб, достаточно ввести новый стандарт, наряду с промежуточной технологией, которая не затрагивает всей массы написанного кода, но была бы легкой для реализации в любых существующих сегодня веб-технологий в виде модулей или плагинов.</p>
<p>В результате, все участники начнут понимать друг друга и меньше зависеть друг от друга. Кроме того, если технология сайтов будет стандартизирована, подобно веб-страницам, то она может быть, и это даже желательно, интегрирована непосредственно на уровне клиентской и серверной базы, т.е. в веб-сервер и браузер, аналогично тому, как HTML-страницы поддерживались сервером на уровне файловой системы и являются базовой технологией для веб-браузеров.</p>
<p>Однако, интеграция технологии в низкоуровневые слои веб-архитектуры&nbsp;&mdash; веб-сервер и браузер,&nbsp;&mdash; не должны ограничивать разработчиков серверного и браузерного ПО. Наоборот, введение стандарта должно помочь им в разработке и того, и другого посредством разделения архитектуры их приложений.</p>
<p>Эту задачу решает универсальная архитектура сайта  SiteXML, которую легко можно реализовать во всех рассмотренных группах в виде модулей.</p>

<h2 name="part3">Часть 3. SiteXML</h2>
<p>Данную часть не следует рассматривать как спецификацию, а скорее как описательную информацию. Технические спецификации следует искать по адресу:

<a href="http://sitexml.info">http://sitexml.info</a>
</p>

<h3>Постановка задачи</h3>
<p>Основной смысловой и технической единицей онлайнового, т.е. сегодняшнего веба является сайт. Однако в архитектуре веба понятия сайта и его функциональных частей нет. Следовательно, наша задача состоит в расширении архитектуры доонлайнового веба до современного, онлайнового веба.</p>
<p>Если мы вспомним определение сайта, который состоит из страниц, навигации, общего оформления, то станет ясно, что для решения этой задачи нам надо ввести и нормализовать вспомогательные объекты для недостающих компонентов&nbsp;&mdash; навигацией и оформлением. При этом нам хотелось бы соблюсти те преимущества первоначальной архитектуры, которые были утеряны при спонтанном любительском развитии веба в онлайновую эпоху.</p>
<p>Таким образом, нам необходимо, чтобы:</p>
<ul><li>сайт был платформонезависимым;</li>
<li>клиент-серверная архитектура была бы по возможности зеркальной;</li>
<li>редактировать в текстовом редакторе;</li>
<li>независимость содержимого от оформления;</li>
<li>соответствие адресов и файлов на сервере;</li>
<li>скачивается только содержимое, т.к. оформление и навигация одни и те же для всего сайта.</li></ul>

<p>Мы должны, конечно, учитывать и реалии сегодняшнего дня. А сегодняшний веб имеет следующие преимущества:</p>
<ul><li>богатое оформление;</li>
<li>мощная серверная функциональность;</li>
<li>WYSIWYG-редактирование, т.е. браузер должен уметь не только читать, но и писать на сервер;</li>
<li>Авторизация и многопользовательность.</li></ul>

<p>Кроме того, нужно понимать, что количество участников этой отрасли очень большое, и их тоже нужно учитывать. Сюда входят браузеры, веб-серверы, веб-фреймворки, системы CMS, программные среды, веб-разработчики, веб-дизайнеры, и, собственно, W3C.</p>
<h3>Универсальная архитектура сайта</h3>
<p>SiteXML вводит и нормализует понятие сайта. Архитектура  SiteXML является универсальной для всех гипертекстовых сайтов и всех функциональных сайтов, у которых имеется гипертекстовая составляющая.</p>
<p>SiteXML не содержит программного кода, следовательно, является платформонезависимым.</p>
<p>SiteXML полностью определяет сайт, поэтому может служить связующим звеном между производителями CMS, веб-фреймворками, программными средами, веб-серверами и браузерами, обеспечивая таким образом их совместимость.</p>
<p>SiteXML формирует сайт на базе текстовых файлов, следовательно, компоненты сайта можно редактировать средствами операционной среды и с помощью CLI.</p>
<p>SiteXML состоит из трех основных компонентов:</p>

<ul><li>файл .site.xml, описывающий структуру и параметры сайта и особой структуры каталогов;</li>
<li>макроязык шаблонов SiteXML Macrolanguage:</li>
<li>протокол передачи сайтов STP, Site Transfer Protocol.</li></ul>


<p>Архитектуру SiteXML может понимать веб-сервер, веб-платформа, CMS, или браузер. Идеально было бы, если бы SiteXML понимали обе стороны, в таком случае было бы получено максимум преимуществ. Однако достаточно, если SiteXML будет поддерживать хотя бы один из перечисленных участников клиент-серверного взаимодействия. Если это будет веб-сервер, то он сможет генерировать готовые страницы для браузера, который не совместим с SiteXML. Если это будет только браузер, то он сможет напрямую запрашивать компоненты сайта и «склеивать» их в сайт на стороне клиента.</p>

<h3>3.1. Файл .site.xml и структура файлов</h3>
<p>Сайт в формате SiteXML должен иметь следующую структуру каталогов и файлов в корневом каталоге домена:</p>
<pre class="shell">dev(user):/www/sitexml.info/htdocs$>ls -l
total 46
drwxrwxr-x 5 user www 512 12 mar 09:01 ./
drwxr-xr-x 3 user www 512 10 mar 07:31 ../
-rw-r--r-- 1 user www 725 11 mar 16:17 .site.xml
drwxrwxr-x 2 user www 512 11 mar 08:43 .content/
drwxr-xr-x 3 user www 512 11 mar 08:24 .themes/
drwxr-xr-x 3 user www 512 11 mar 08:24 .modules/</pre>
<p>Обязательным является только файл .site.xml,  если его нет в каталоге веб-сервера, то этот каталог интерпретируется обычным способом. Однако, если файл .site.xml присутствует, то веб-сервер или платформа понимают, что они имеют дело с сайтом в формате SiteXML и начинают действовать в соответствии с этим.</p>
<p>Точка в начале имени файла .site.xml и каталогов не несет никакой функциональной нагрузки и не имеет сакрального смысла. Главной мотивацией этой точки является попытка отделить файловую систему сайта в формате SiteXML от обычного сайта.</p>

<h4>.themes</h4>
<p>В каталоге .themes должны содержаться темы (шаблоны) оформления. Их может быть сколько угодно и они могут располагаться в любом порядке. Соответствие между шаблонами и страницами, а также различные дополнительные параметры устанавливаются в файле .site.xml. Подробнее о шаблонах см. ниже.</p>
<h4>.modules</h4>
<p>В каталоге .modules могут находиться различные функциональные модули, в произвольном порядке и расположении. Они не являются платформонезависимыми, в отличие от HTML- и XML-файлов, которые являются основой для SiteXML, но дают возможность осуществить минимально необходимую функциональность, не выходя сильно из концепции SiteXML. Кроме того, со временем можно создать минимально необходимых набор взаимно совместимых функциональных модулей для разных платформ, и это в какой-то мере сделает их также «как бы» платформонезависимыми.</p>
<h4>.content</h4>
<p>В каталоге .content должны в любом порядке находиться HTML-файлы, содержащие непосредственно контент. Этот каталог можно сравнить с корневым каталогом домена в доонлайновой архитектуре веба, который состоял только из HTML-файлов.</p>
<p>Различие состоит лишь в том, что структура каталогов и файлов в каталоге .content не определяет адреса страниц. Это сделано для лучшей управляемости адресами и контентом, поскольку в старой архитектуре адрес управлялся расположением HTML-файлов. С одной стороны, это позволяло быстро находить тот файл на сервере, который соответствовал адресу документа, а с другой стороны это вызывало сложности при поддержке адресов. При удалении или изменении имени файла на сервере, в вебе происходит разрыв гиперссылок. При том, что сам документ и информация могут существовать, ссылки на него могут перестать работать.</p>
<p>Связь адресов документов с непосредственно файлами в концепции SiteXML реализуется с помощью системного файла .site.xml, о котором речь пойдет немного ниже.</p>
<h4>.site.xml</h4>
<p>Файл .site.xml является центром технической имплементации концепции. Этот файл содержит информацию о структуре страниц сайта, т.е. является основой для навигации по сайту. Кроме этого, он содержит параметрическое описание всех компонентов сайта. Эти данные есть нормализованное и универсальное описание сайта, на их основе происходит «сборка» или генерация страниц сайта.</p>
<p>Сама же навигация по сайту, отражающая структура сайта, в сгенерированном HTML-виде может быть:</p>

<ul>
    <li>жестко запрограммирована непосредственно в шаблоне;</li>
    <li>реализовываться в виде функционального модуля и подключаться с помощью контент-зоны в шаблоне;</li>
    <li>реализовываться с помощью встроенной функциональности SiteXML, и встраиваться в контент-зону в шаблоне.</li>
</ul>

<h4>Элементы и атрибуты SiteXML:</h4>
<ul>
    <li>SITE
        <ul>
            <li>@name</li>
            <li>META
                <ul>
                    <li>@name</li>
                    <li>@charset</li>
                    <li>@http-equiv</li>
                    <li>@scheme</li>
                    <li>@content</li>
                </ul>
            </li>
            <li>THEME
                <ul>
                    <li>@dir {String}</li>
                    <li>@id {Integer} unique required</li>
                    <li>@file {String}</li>
                    <li>@default {yes | no (or unspecified)}</li>
                    <li>CONTENT
                        <ul>
                            <li>@id {Integer} unique required</li>
                            <li>@name {String} required</li>
                            <li>@type {module | unspecified means show as text)</li>
                            <li>node content</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </li>
    <li>PAGE
        <ul>
            <li>@id {Integer} unique required</li>
            <li>@startpage {yes | unspecified = no}</li>
            <li>@nonavi {yes | unspecified = no}</li>
            <li>@name {String}</li>
            <li>@alias {String}</li>
            <li>@theme {Integer}</li>
            <li>@title {String}</li>
        </ul>
    </li>
</ul>
<h4>SITE</h4>
<p>Единственный корневой элемент. Он обязателен и имеет единственный атрибут:</p>
<p>@name&nbsp;&mdash;  имя сайта</p>
<p>Этот атрибут используется в макроязыке при генерации сайта.</p>
<h4>META</h4>
<p>Необязательный элемент, описывающий мета-тэги. Этот элемент может быть вложенным для элементов SITE и PAGE и его количество неограниченно. Используется для генерации мета-тегов в результирующих HTML-страницах сайта. Имеет текстовое содержание и атрибуты. Текстовое содержание соответствует текстовому содержание результирующего мета-тега, а атрибуты полностью соответствуют атрибутам элемента META из стандарта HTML.</p>
<p>Эти элементы, являющимися дочерними для элементов PAGE имеют больший приоритет, чем дочерние для SITE. Мета-теги, определенные для сайта, будут присутствовать на всех страницах сайта. Мета-теги определенные для страницы, будут присутствовать только на данной странице, перезапишут мета-теги сайта с такими же свойствами, но не распространяются на вложенные страницы.</p>
<h4>THEME
</h4>
<p>Необязательный элемент, дочерний только для элемента SITE, определяет темы, или шаблоны оформления. Этих элементов можно быть сколько угодно, и они будут применяться в соответствии со следующими правилами:</p>
<ol>
    <li>темы не определены. При генерации страниц будет использована встроенная тема, независимо от того, какие темы назначены страницам (PAGE@theme=[id]);</li>
    <li>имеется одна или больше тем, при этом одна из тем определена как тема по умолчанию (THEME@default=yes). Такая тема будет использоваться как тема для страниц без определенной темы (отсутствует или некорректен атрибут PAGE@theme);</li>
    <li>имеется несколько тем, но ни одна из них не определена как тема по умолчанию. В таком случае первая тема будет использоваться как тема по умолчанию.</li>
</ol>
<p><strong>Атрибуты</strong>:</p>
<p>@dir&nbsp;&mdash; обязательный
</p>
<p>Имя каталога, в который помещены файлы темы. Этот каталог должен быть внутри системного каталога .themes. Расположение файлов в каталоге тема произвольное, тема&nbsp;&mdash; это обычный HTML-файл со всеми необходимыми ресурсами&nbsp;&mdash; изображениями, стилями, скриптами, и т.д.
</p>
<p>@id&nbsp;&mdash; обязательный, уникальный
</p>
<p>Идентификатор темы, который служит для связи страниц и тем.
</p>
<p>@file&nbsp;&mdash; обязательный
</p>
<p>Имя HTML-файла, который должен находиться в каталоге темы (THEME@dir). Этот файл будет использоваться при генерации страницы с этим шаблоном. Подробнее о шаблонах в разделе Macrolang.
</p>
<p>@default {yes | no (or unspecified)}</p>
<h4>CONTENT
</h4>
<p>Необязательные элемент, описывающий контент. Элемент может быть вложенным в элементы THEME и PAGE. Контент, дочерний для THEME, будет использоваться на всех страницах с этой темой. Если же контент с таким же именем присутствует в элементе PAGE, то он перезапишет контент из темы. Содержанием элемента является имя HTML-файла, содержащего этот контент. Этот файл должен находиться в каталоге .content. Если же тип контента модуль, то содержанием элемента является путь к модулю в каталоге .modules.</p>
<p><strong>Атрибуты</strong>:</p>
<p>@id&nbsp;&mdash; необязательный, уникальный
</p>
<p>Идентификатор контента, который может использоваться для получения этого контента по STP (см.ниже).
</p>
<p>@name&nbsp;&mdash; обязательный
</p>
<p>Имя контент-зоны, которое должно совпадать с именем контент-зоны в теме. По этому имени происходит вставка контента в соответствующую контент-зону в теме, а также запрос по STP.
</p>
<p>@type</p>
<p>Тип контента. Если этот атрибут не указан, то контент считается обычным текстовым контентом. Если значение атрибута module, то этот контент считает модулем, и адрес этого модуля находится в содержании элемента, а сам модуль должен находиться в каталоге .modules.</p>
<h4>PAGE</h4>
<p>Элемент, описывающий страницу. Этот элемент является дочерним по отношению к элементу SITE и может содержать сколько угодно вложенных элементов PAGE, META, CONTENT. Структура вложения элементов PAGE друг в друга определяет структуру сайта. На основе этой структуры генерируется навигация сайта. Это означает, что чтобы поменять порядок страниц в навигации сайта, нам нужно поменять порядок элементов PAGE.</p>
<p><strong>Атрибуты</strong>:</p>
<p>@id&nbsp;&mdash; обязательный, уникальный</p>
<p>Уникальный идентификатор страницы. Если не задан атрибут @alias, то этот атрибут используется для адресации страницы.</p>
<p>@alias&nbsp;&mdash; уникальный</p>
<p>Адрес страницы любого приемлемого для URL вида, не считая имени домена, например:
<pre><page id=”1” alias=”my/page”></page></pre>
</p>
<p>@name</p>
<p>Имя страницы, которое используется при генерации навигации.</p>
<p>@title</p>
<p>Текст, который используется как содержимое элемента TITLE результирующего кода страницы. Для этого атрибута необходима соответствующая вставка в теме.</p>
<p>@theme</p>
<p>Значение этого атрибута&nbsp;&mdash; id темы. Если этот атрибут не задан или некорректен, то используется тема по определенному алгоритму, приведенному выше, в описании элемента THEME.</p>
<p>@startpage</p>
<p>Если значение этого атрибута “yes”, то данная страница является стартовой, т.е. будет отображаться при запросе корневого адреса домена.</p>
<p>@nonavi</p>
<p>Если значение этого атрибута “yes”, то данная страница не будет отображаться в навигации, но будет доступна по прямому адресу, или по STP.</p>
<h4>Пример Hello World</h4>
<p>Для минимального сайта нам понадобится всего два файла: .site.xml и .content/helloworld.html
</p>
<p>.site.xml:
<pre class="code">
&lt;site&gt;
    &nbsp;&nbsp;&lt;page id=&quot;1&quot; name=&quot;home&quot;&gt;
    &nbsp;&nbsp;&nbsp;&nbsp;&lt;content id=&quot;1&quot; name=&quot;main&quot;&gt;helloworld.html&lt;/content&gt;
    &nbsp;&nbsp;&lt;/page&gt;
&lt;/site&gt;
</pre></p>
<p>.content/helloworld.html:</p>
<pre class="code">
&lt;p&gt;Hello World&lt;/p&gt;
</pre>
<p>При генерации этого минималистического сайта будет использоваться встроенная тема оформления, поэтому нам не потребуется своя.</p>
<h3>3.2. STP&nbsp;&mdash; Протокол передачи сайта</h3>
<h3>3.3. Macrolang&nbsp;&mdash; Стандартный макроязык шаблонов
</h3>
<p>Имеется встроенная тема…</p>
<p>Встроенная навигация…</p>
<p>Встроенные стили…</p>
<h3>3.4. Генерация сайта
</h3>
<p>Ход генерации сайта</p>
<ol>
    <li>Получаем запрос (alias/id)</li>
    <li>Находим страницу</li>
    <li>Берем шаблон</li>
    <li>Находим контент-зоны и мета</li>
    <li>Заменяем контент зоны в шаблоне контентом из файлов</li>
</ol>

<h3>3.5. Построение DOM-модели в архитектуре SiteXML
</h3>
<h2 name="conclusion">Заключение</h2>
<p>Когда SiteXML будет поддерживаться непосредственно веб-серверами и браузерами, упростится задача создания сайтов. Сайты можно будет создавать так же просто, как раньше HTML, не заботясь о проблемах поддержания структуры, навигации и общего оформления сайта. Существующей функциональности браузеров достаточно, чтобы с помощью SiteXML и STP получить минимально необходимые методы как просмотра, так и редактирования сайтов даже без использования CMS. При этом рынок CMS станет более организованным и взрослым, т.к. у него появится внутренний стандарт структуры данных и за счет разделения полной независимости от платформы, а также независимости клиентской и серверной части появится возможность разрабатывать серверную и клиентскую части отдельно, при этом они смогут функционировать даже автономно.</p>
<p>Веб-серверы должны иметь возможность понимать файловую структуру SiteXML и генерировать страницы с помощью своей базовой функциональности так, как это сейчас делают CMS. Т.е. если в файловой системе на сервере, в корневом каталоге сайта будет находиться файл .site.xm, то это будет означать для веб-сервера, что он должен его использовать для генерации сайта.</p>
<p>Существующие CMS необходимо и достаточно лишь будет снабдить модулями, экспортирующими свою собственную структуру содержимого в стандарте SiteXML, который напрямую может читаться браузерами. При том, что веб-серверы и браузеры сами должны понимать сайты в формате SiteXML, CMS не станут бесполезными, они будут концентрироваться на улучшенных сервисах.</p>
<p>Браузеры должны иметь возможность напрямую скачивать сайт не в виде сгенерированного HTML, страница за страницей, а в компонентном виде, чтобы генерировать страницы из уже скачанных компонентов, что ускорит переход между страницами, исключив скачивание страниц. Несомненно, поскольку время ожидания страниц в вебе является одним из важнейших критериев удобства пользователя, в данном контексте это время сократится до нуля.</p>
<p>Во первой части мы рассмотрели преимущества изначальной архитектуры веба, которые утеряны в современном вебе. SiteXML, при правильной реализации, должен вернуть эти преимущества в веб:</p>
<ul>
    <li>Платформонезависимость
</li><li>Архитектурная стабильность
</li><li>Простота использования и программирования
</li><li>Структура информации WYSIWYG
</li><li>Простота редактирования
</li><li>Целостная концепция безопасности
</li><li>CLI для редактирования
</li><li>Эстетичность, легкость восприятия и малая нагрузка на сети</li>
</ul>
<p>Кроме того, мы сохраняем современные преимущества веба, богатого технологиями для разработки и всей функциональности, необходимой для современного веба, которые мы рассмотрели в манифесте общий свойств сайтов во второй части:</p>
<ul>
    <li>Целостная навигация и информационная архитектура
</li>
    <li>Полная свобода оформления с разделением содержимого
</li>
    <li>Независимость от клиентских устройств и носителей</li>
</ul>

<p style="margin-top: 100px">(c) 2017 Михаил Юрьевич Зеленский</p>
<p>Эта книга и сайт, на котором она размещена, создана с помощью технологии, которую описывает, т.е. SiteXML. Кроме того, эта книга доступна для всеобщего редактирования. Если вы нашли ошибки в тексте (фактологические, стилистические или грамматические), или если вы хотите его дополнить, то это можно сделать с помощью весьма известной и популярной системы контроля версий: <a href="https://github.com/MichaelZelensky/sitexml.info/blob/master/htdocs/.content/sitexmlbook.ru.html">github.com/MichaelZelensky/sitexml.info</a></p>

<!--Конец книги -->