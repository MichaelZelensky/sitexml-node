<h1>Engine algorithms</h1>
<p>
    A SiteXML engine on any platform, should be able to serve all STP directives and commands of the SiteXML Macrolanguage (see <%PLINK(7)%>).
</p>
<p>
    The main task is the page generation process:
    <ol>
        <li><a href="#select_page">Select a page to display</a>;</li>
        <li><a href="#select_theme">Select a theme to be applied to the selected page</a>;</li>
        <li>Select content for the selected theme and page;</li>
        <li>Process the selected theme: insert content into the theme's content zones, replace Macrolang directives, and so on.</li>
    </ol>
</p>
<a name="select_page"></a><h2>Select a page to display</h2>
<p><img src="/images/Select_page_algorithm.png" alt="Select page algorithm (SiteXML algorithm)" height="741" width="569"></p>
<a name="select_theme"></a><h2>Select a theme for a page</h2>
<p>
    <ol>
        <li>PAGE@theme is present and valid? (yes) &rarr; Select this theme</li>
        <li>THEMES contain a THEME element? (yes) &rarr; Select the first theme</li>
        <li>Use built-in theme</li>
    </ol>
</p>