<h1>sitexml.js</h1>
<p>JavaScript class for work with SiteXML.</p>

<h2>Usage</h2>
<p>
    <ol>
        <li>Download <a href="https://github.com/MichaelZelensky/sitexml.js">https://github.com/MichaelZelensky/sitexml.js</a></li>
        <li>Include the file into your HTML code: <div class="code"><xmp><script src="[you path to js files]/sitexml.js"></script></xmp></div></li>
        <li>Make an instance and use:
            <div class="code"><xmp><script language="JavaScript">
    var SiteXML = new sitexml();
    SiteXML.loadSitexml();
</script></xmp></div>
        </li>
    </ol>
</p>

<h2>Methods</h2>

<h3>loadSitexml()</h3>
<p>
    Executes ?sitexml STP command<br>
    triggers 'sitexml.is.loaded' event
</p>
<p>
    Adds properties to the object of the sitexml class:
    <ul>
        <li>sitexml - raw xml</li>
        <li>sitexmlObj - Document type object</li>
        <li>siteObj - Javascript object</li>
    </ul>
    Example:
</p>

<div class="code">
    <xmp><script language="JavaScript">
    var SiteXML = new sitexml();
    SiteXML.loadSitexml();
    document.addEventListener('sitexml.is.loaded', function () {
        if (console && console.log) {
            console.log('SiteXML is loaded');
            console.log(SiteXML.sitexml); //raw XML
            console.log(SiteXML.sitexmlObj); //Document type object
            console.log(SiteXML.siteObj); //Javascript object
        }
    });
</script></xmp>
</div>

<h3>LoadContent(id)</h3>
<p>
    Loads content by id, filename, or page id + content name<br>
    @Param {Integer} id - get content by id<br>
    @Param {String} filename - get content directly by filename<br>
    or <br>
    @Param {Object} id - example: {id: [pid], name: [content_name]}, will generate STP request ?id=pid&name=cname
</p>
<p>Triggers 'content.is.loaded' event<br>
Saves the loaded content into lastLoadedContent property<br>
Example:</p>
<div class="code">
    <xmp><script language="JavaScript">
    var SiteXML = new sitexml();
    SiteXML.loadContent({
        id: 1, //page's id
        name: 'main' //content's name
    });
    document.addEventListener('content.is.loaded', function () {
        if (console && console.log) {
            console.log('Content is loaded');
            console.log(SiteXML.lastLoadedContent); //Content
        }
    });
</script></xmp>
</div>